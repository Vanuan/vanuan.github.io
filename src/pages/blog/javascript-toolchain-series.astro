---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";

const seriesPosts = (await getCollection("blog", (post) => post.data.series === "javascript-toolchain-evolution"))
  .sort((a, b) => {
    // Sort by seriesOrder if available, otherwise fallback to publishDate
    const orderA = a.data.seriesOrder ?? 0;
    const orderB = b.data.seriesOrder ?? 0;
    return orderA - orderB;
  });
---

<Layout title="JavaScript Toolchain Evolution Series | Vanya Yani" description="A complete series exploring how JavaScript tooling evolved from overwhelming complexity to elegant simplicity.">
    <section class="py-20">
        <h1 class="text-4xl font-bold mb-4">JavaScript Toolchain Evolution</h1>
        <p class="text-xl text-gray-600 dark:text-gray-300 mb-8">
            Exploring how JavaScript tooling evolved from overwhelming complexity to elegant simplicity.
        </p>
    </section>

    <section class="py-10 max-w-4xl mx-auto">
        <p class="text-lg mb-8">
            This series traces the journey of JavaScript tooling from the chaotic early days of countless competing solutions
            to today's consolidated ecosystem where developers can build modern applications with just a few well-chosen tools.
        </p>

        <div class="space-y-6">
            {seriesPosts.map((post) => (
                <article class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold mb-2">
                        <a href={`/blog/${post.slug}`} class="hover:text-blue-600 dark:hover:text-blue-400">
                            {post.data.title}
                        </a>
                    </h2>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">{post.data.description}</p>
                    <div class="flex justify-between items-center">
                        <time datetime={post.data.publishDate.toISOString()} class="text-sm text-gray-500 dark:text-gray-400">
                            Published on {new Date(post.data.publishDate).toLocaleDateString('en-US', {
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric'
                            })}
                        </time>
                        <a href={`/blog/${post.slug}`} class="text-blue-500 hover:text-blue-700">
                            Read post â†’
                        </a>
                    </div>
                </article>
            ))}
        </div>
    </section>
</Layout>
